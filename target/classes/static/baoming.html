<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>战队报名</title>
    <script src="js/jquery-3.4.1.js" type="text/javascript"></script>
    <script>
        $(function () {

            var oi=[];

            obj1 = new Object();
            obj1.member = $("#leader").val();
            obj1.identity = "队长";
            oi.push(obj1);
            obj2 = new Object();
            obj2.member = $("#player1").val();
            obj2.identity = "队员";
            oi.push(obj2)
            obj3 = new Object();
            obj3.member = $("#player2").val();
            obj3.identity = "队员";
            oi.push(obj3)
            obj4 = new Object();
            obj4.member = $("#player3").val();
            obj4.identity = "队员";
            oi.push(obj4)
            obj5 = new Object();
            obj5.member = $("#player4").val();
            obj5.identity = "队员";
            oi.push(obj5);
            obj6 = new Object();
            obj6.member = $("#tibuplayer").val();
            obj6.identity = "替补队员";
            oi.push(obj6);
            var od={
                "teamName":$("#teamName").val()
            }
            var teamVo={"team":od,"members":oi};

            $("#a").click(function () {
                alert("即将提交");
                $.ajax({
                    url:"/baoming",
                    type:"get",
                    contentType: "application/json",
                    // data: JSON.stringify(teamVo),
                    data:{
                        members:JSON.stringify(oi),
                        teamName:$("#teamName").val()
                    },
                    dataType:"json",
                    success:function (data) {
                        alert("战队报名成功");
                    }

                })
            })
        })
    </script>
</head>
<body>
    <form action="" method="get">
        战队名:<input type="text" name="teamName" id="teamName"><br>
        队长:<input type="text" name="leader" id="leader"><br>
        队员1:<input type="text" name="player1" id="player1"><br>
        队员2:<input type="text" name="player2" id="player2"><br>
        队员3:<input type="text" name="player3" id="player3"><br>
        队员4:<input type="text" name="player4" id="player4"><br>
        替补队员:<input type="text" name="tibuplayer" id="tibuplayer"><br>
        <input type="submit" value="提交" id="a">
    </form>
</body>
</html>
